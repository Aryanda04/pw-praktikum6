<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<!-- Just an image -->
<nav class="navbar navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="#" >
        <img
          src="http://pm1.narvii.com/7044/565cb68d29f0f43d84931d41a98cb8b760d8ddc0r1-840-920v2_00.jpg"
          height="100"
          alt="MDB Logo"
          loading="lazy"
        />
        <small>PT.Once Sejahtera</small>
      </a>
    </div>
  </nav>

<body>

    <div class="container">
        
        <div class="row">
            <div class="column mx-auto">
                <table border="2">
                    <thead>
                        <tr>
                            <th>Nama Pelanggan</th>
                            <td><input type="text" name="pelanggan" id="nama_pelanggan"></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr background-color= #146e53;>
                            <th>Kategori</th>
                            <td>
                                <select id="kategoriList">
                                    <option value="Sos">Sosial</option>
                                    <option value="Rum">Rumah</option>
                                    <option value="Apart">Apartemen</option>
                                    <option value="Indust">Industri</option>
                                    <option value="Vil">Villa</option>
                                </select>   
                            </td>
                        </tr>
                        <tr>
                            <th>Hari Pemakaian</th>
                            <td><input type="text" id="hari" name="hari"></td>
                        </tr>
                        <tr id="button">
                            <td colspan="2"><input type="button" name="button" id="button" value="Hitung" onclick="hitung()"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="column">
             
                <table class="mid_table" border="4">
                    
                    <thead>
                      <tr>
                        <th>Subtotal</th>
                        <th>Pajak</th>
                        <th>Bayar</th>
                      </tr>
                    </thead>
                    <tbody>
                            <td id="sub"></td>
                            <td id="pajak"></td>
                            <td id="bayar"></td>
                    </tbody>
                
                </table>   
            
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="column">

                <h2>Rincian Tagihan</h2>

                <table class="styled-table" >
                    <thead>
                        <tr>
                            <th>Jumlah</th>
                            <th>Tarif per KWH</th>
                            <th>Abodemen</th>
                            <th>Sub-Total</th>
                        </tr>
                    </thead>
                    <tbody id="hasil">
                       <tr>
                           <td>Jumlah</td>
                           <td>Tarif per Kwh</td>
                           <td>Abodemen</td>
                           <td>Subtotal</td>
                       </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>




    <!-- <script src="script.js"></script> -->
    <script>

        var arrJumlah = [];
        var arrTarif = [];
        var arrAbodemen = [];
        var arrSub = [];

        let n = 1;
        var x = 0;

        var abodemen;
        var tarif;
        var pajak;
        var subtotal;
        var total;

        function hitung(){

            var hari = document.getElementById("hari").value;

            var select = document.getElementById("kategoriList");
            var value = select.options[select.selectedIndex].value;

            if(hari < 31){

                if(value == "Sos"){

                    abodemen = 10000;
                    tarif = 300 ;
                    pajak = 0;
                    var addRow = document.getElementById("hasil");
                    addRow.innerHTML="";
                    for(let i = 1; i<=hari; i++){

                        addRow.innerHTML+=`
                        <tr>
                           <td>${i}</td>
                           <td>${i*tarif}</td>
                           <td>${abodemen}</td>
                           <td>${abodemen+i*tarif}</td>
                       </tr>
                        `

                        arrJumlah[x] = i;
                        arrTarif[x] = tarif;
                        arrAbodemen[x] = abodemen;
                        arrSub[x] = abodemen + arrTarif[x] ;
            

                        subtotal = arrSub[x];
                        tarif += 300;
                        n++;
                        x++;
                    }
                    var sub = document.getElementById("sub");
                    sub.innerHTML = subtotal;
                    var Pajak = document.getElementById("pajak");
                    Pajak.innerHTML = (subtotal*pajak);
                    var bayar = document.getElementById("bayar");
                    bayar.innerHTML = (subtotal*pajak)+subtotal;


                }else if(value == "Rum"){
                    abodemen = 30000;
                    tarif = 500;
                    pajak = 0.1;
                    var addRow = document.getElementById("hasil");
                    addRow.innerHTML="";
                    for(let i = 1; i<=hari; i++){
                        addRow.innerHTML+=`
                        <tr>
                           <td>${i}</td>
                           <td>${i*tarif}</td>
                           <td>${abodemen}</td>
                           <td>${abodemen+i*tarif}</td>
                       </tr>
                        `

                        arrJumlah[x] = i;
                        arrTarif[x] = tarif;
                        arrAbodemen[x] = abodemen;
                        arrSub[x] = abodemen + arrTarif[x] ;
            

                        subtotal = arrSub[x];
                        tarif += 300;
                        n++;
                        x++;
                    }

                    var sub = document.getElementById("sub");
                    sub.innerHTML = subtotal;
                    var Pajak = document.getElementById("pajak");
                    Pajak.innerHTML = (subtotal*pajak);
                    var bayar = document.getElementById("bayar");
                    bayar.innerHTML = (subtotal*pajak)+subtotal;

                }else if(value == "Apart"){
                    abodemen = 50000;
                    tarif = 750;
                    pajak = 0.15;
                    var addRow = document.getElementById("hasil");
                    addRow.innerHTML="";
                    for(let i = 1; i<=hari; i++){
                        addRow.innerHTML+=`
                        <tr>
                           <td>${i}</td>
                           <td>${i*tarif}</td>
                           <td>${abodemen}</td>
                           <td>${abodemen+i*tarif}</td>
                       </tr>
                        `

                        arrJumlah[x] = i;
                        arrTarif[x] = tarif;
                        arrAbodemen[x] = abodemen;
                        arrSub[x] = abodemen + arrTarif[x] ;
            

                        subtotal = arrSub[x];
                        tarif += 300;
                        n++;
                        x++;
                    }
                    var sub = document.getElementById("sub");
                    sub.innerHTML = subtotal;
                    var Pajak = document.getElementById("pajak");
                    Pajak.innerHTML = (subtotal*pajak);
                    var bayar = document.getElementById("bayar");
                    bayar.innerHTML = (subtotal*pajak)+subtotal;

                }else if(value == "Indust"){
                    abodemen = 75000;
                    tarif = 1000;
                    pajak = 0.2;
                    var addRow = document.getElementById("hasil");
                    addRow.innerHTML="";
                    for(let i = 1; i<=hari; i++){
                        addRow.innerHTML+=`
                        <tr>
                           <td>${i}</td>
                           <td>${i*tarif}</td>
                           <td>${abodemen}</td>
                           <td>${abodemen+i*tarif}</td>
                       </tr>
                        `

                        arrJumlah[x] = i;
                        arrTarif[x] = tarif;
                        arrAbodemen[x] = abodemen;
                        arrSub[x] = abodemen + arrTarif[x] ;
            

                        subtotal = arrSub[x];
                        tarif += 300;
                        n++;
                        x++;
                    }

                    var sub = document.getElementById("sub");
                    sub.innerHTML = subtotal;
                    var Pajak = document.getElementById("pajak");
                    Pajak.innerHTML = (subtotal*pajak);
                    var bayar = document.getElementById("bayar");
                    bayar.innerHTML = (subtotal*pajak)+subtotal;

                }else{
                    abodemen = 100000;
                    tarif = 1250;
                    pajak = 0.25;
                    var addRow = document.getElementById("hasil");
                    addRow.innerHTML="";
                    for(let i = 1; i<=hari; i++){
                        addRow.innerHTML+=`
                        <tr>
                           <td>${i}</td>
                           <td>${i*tarif}</td>
                           <td>${abodemen}</td>
                           <td>${abodemen+i*tarif}</td>
                       </tr>
                        `

                        arrJumlah[x] = i;
                        arrTarif[x] = tarif;
                        arrAbodemen[x] = abodemen;
                        arrSub[x] = abodemen + arrTarif[x] ;
            

                        subtotal = arrSub[x];
                        tarif += 300;
                        n++;
                        x++;
                    }

                    var sub = document.getElementById("sub");
                    sub.innerHTML = subtotal;
                    var Pajak = document.getElementById("pajak");
                    Pajak.innerHTML = (subtotal*pajak);
                    var bayar = document.getElementById("bayar");
                    bayar.innerHTML = (subtotal*pajak)+subtotal;

                }

            }else{
                alert("Jumlah Hari Tidak Valid");
                return false;
            }
        }

    </script>
</body>
</html>